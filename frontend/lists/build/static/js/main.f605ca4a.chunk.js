(this.webpackJsonplanis=this.webpackJsonplanis||[]).push([[0],{28:function(e,t,n){e.exports={body:"Ingredient_body__3sWeY",caption:"Ingredient_caption__3raZg",amountUnits:"Ingredient_amountUnits__8qoZs"}},34:function(e,t,n){e.exports={body:"CookingStage_body__143jg",frame:"CookingStage_frame__3m_cs",empty:"CookingStage_empty__3mQuy",receiving:"CookingStage_receiving__28JUA"}},35:function(e,t,n){e.exports={border:"Form_border__3dCsR",caption:"Form_caption__2qD-o",jsonField:"Form_jsonField__3UMsr",fields:"Form_fields__bVZBD"}},44:function(e,t,n){e.exports={body:"Cookbook_body__1r41O",ingredients:"Cookbook_ingredients__2Xy_t",CookbookStage:"Cookbook_CookbookStage__1x-wL",CookbookHighlight:"Cookbook_CookbookHighlight__2K-Id"}},45:function(e,t,n){e.exports={body:"StringField_body__2zf-R",label:"StringField_label__3b8Nj",input:"StringField_input__2F8wV"}},46:function(e,t,n){e.exports={body:"NumberField_body__2m0q5",label:"NumberField_label__1Ijfr",input:"NumberField_input__3CVvz"}},65:function(e,t,n){e.exports={body:"Button_body__2dkgX"}},67:function(e,t,n){e.exports={background:"Popup_background__3gH5c"}},85:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(39),a=n.n(i),o=n(19),s=n(11),u=n(3);function l(e,t){var n=Object(c.useState)((function(){return function(e,t){return JSON.parse(localStorage.getItem(e))||(t instanceof Function?t():t)}(e,t)})),r=Object(u.a)(n,2),i=r[0],a=r[1];return Object(c.useEffect)((function(){localStorage.setItem(e,JSON.stringify(i))}),[i]),[i,a]}var d=n(0),j=r.a.createContext(),p=r.a.createContext();function b(){return Object(c.useContext)(j)}function f(){return Object(c.useContext)(p)}function O(e){var t=e.children,n=l("LANIS_PERSONAL",null),c=Object(u.a)(n,2),r=c[0],i=c[1];return Object(d.jsx)(j.Provider,{value:r,children:Object(d.jsx)(p.Provider,{value:i,children:t})})}var h=r.a.createContext(),x=r.a.createContext();function m(){return Object(c.useContext)(h)}function v(){return Object(c.useContext)(x)}function g(e){var t=e.children,n=Object(c.useState)({accent1:"#8B008B",accent2:"#eee",fontSize:.8}),r=Object(u.a)(n,2),i=r[0],a=r[1];return Object(d.jsx)(h.Provider,{value:i,children:Object(d.jsx)(x.Provider,{value:a,children:t})})}n(85);var y=n(21),w=n.n(y);function k(){var e=b(),t=(m(),v(),Object(c.useState)("")),n=Object(u.a)(t,2),r=n[0],i=n[1];var a=e&&function(e){return(t=e,t.replace(/[a-z]/g,"")).substring(0,2)||e.substring(0,1);var t}(e.user.name);return Object(d.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},children:[[{caption:"Lists",path:"/lists"},{caption:"Sports",path:"/sports"},{caption:"Cookbook",path:"/cookbook"},{caption:"Games",menu:[{caption:"VocabBuilder",path:"/games/vocabbuilder"},{caption:"WordPop",path:"/games/wordpop"}]}].map((function(e){return e.path?Object(d.jsx)(o.b,{className:"NavigationBarLink",activeClassName:"NavigationBarActiveLink",to:e.path,children:Object(d.jsx)("span",{className:"NavigationBarTab",children:e.caption})},e.path):Object(d.jsxs)("span",{className:"NavigationBarMenu",onClick:function(){i((function(t){return t===e.caption?"":e.caption}))},onMouseLeave:function(){i("")},children:[e.caption,e.caption===r?Object(d.jsx)("div",{children:e.menu.map((function(e){return Object(d.jsx)(o.b,{className:"NavigationBarLink",activeClassName:"NavigationBarActiveLink",to:e.path,children:Object(d.jsx)("div",{children:e.caption},e.path)},e.path)}))}):null]},e.caption)})),Object(d.jsx)("div",{style:{flexGrow:"1"}}),Object(d.jsx)(o.b,{to:"/user",style:{textDecoration:"none"},children:Object(d.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",height:"30px",width:"30px",backgroundColor:"#ddd",cursor:"pointer",marginBottom:"5px"},children:Object(d.jsx)("div",{style:{fontSize:"0.9em"},children:e?a:Object(d.jsxs)("svg",{width:"20",height:"20",children:[Object(d.jsx)("circle",{cx:"10",cy:"7",r:"4",fill:"#bbb"}),Object(d.jsx)("circle",{cx:"10",cy:"20",r:"7",fill:"#bbb"})]})})})})]})}var C=n(9),S=n(2),N=n(7),_=n.n(N);function B(e){var t=e.tabs,n=e.selectedTab,c=e.clickTab,r={padding:"5px",backgroundColor:"#ccc",cursor:"pointer",flexGrow:"1",flexBasis:"0",textAlign:"center"},i={padding:"5px",backgroundColor:"#8B008B",cursor:"pointer",color:"#ddd",flexGrow:"1",flexBasis:"0",textAlign:"center"};return Object(d.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%"},children:t&&t.map((function(e){return Object(d.jsx)("div",{style:e===n?i:r,onClick:function(){c&&c(e)},children:e},e)}))})}var P=n(65),I=n.n(P);function D(e){var t=e.caption,n=e.onClick;return Object(d.jsx)("span",{className:I.a.body,onClick:n,children:t})}var A="http://65.108.81.255/api/register",R="http://65.108.81.255/api/login";function W(e){var t=e.split(".")[1],n=atob(t);return JSON.parse(n)}var E=function(){var e=f(),t=Object(c.useState)("Login"),n=Object(u.a)(t,2),r=n[0],i=n[1],a=Object(c.useState)(null),o=Object(u.a)(a,2),s=o[0],l=o[1],j=Object(c.useRef)(),p=Object(c.useRef)(),b=Object(c.useRef)();function O(e){"Enter"===e.key&&h()}function h(e){l(null);var t="Register"===r,n=t?{confirmPin:b.current.value}:{},c=Object(S.a)({username:j.current.value,pin:p.current.value},n),i=function(e){var t=e.username,n=e.pin,c=e.confirmPin;return t?/^[a-zA-Z0-9]*$/.test(t)?n?/^[0-9]*$/.test(n)?n.length<4?"PIN too short. Use at least 4 digits.":!c&&""!==c||"1234"!==n&&"0000"!==n?""===c?"Please confirm the PIN":c&&c!==n?"PINs don't match":null:"Come on now...":"Only numeric PINs please":"Please enter a PIN":"Username invalid. Only letters and numbers allowed.":"Please provide a username"}(c);i?l(i):t?function(e){x.apply(this,arguments)}(c):m(c)}function x(){return(x=Object(C.a)(_.a.mark((function e(t){var n,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(A,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:200===(n=e.sent).status?m({username:t.username,pin:t.pin}):(c="Failed to register.",409===n.status&&(c+=" Username already taken."),404===n.status&&(c+=" User not found."),l(c)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l("Failed to contact server");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=Object(C.a)(_.a.mark((function t(n){var c,r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(R,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 3:if(200!==(c=t.sent).status){t.next=12;break}return t.next=7,c.json();case 7:r=t.sent,e({user:W(r),token:r}),l(null),t.next=15;break;case 12:e(null),"Failed to log in",l("Failed to log in");case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(0),e(null),l("Failed to contact server");case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))).apply(this,arguments)}Object(c.useEffect)((function(){l(null)}),[r]);var g={alignSelf:"start",color:"#444",marginTop:"10px"},y={width:"100%"};return Object(d.jsx)("form",{onSubmit:h,children:Object(d.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"90vh",maxWidth:"200px",margin:"0 auto"},children:[Object(d.jsx)(B,{tabs:["Login","Register"],selectedTab:r,clickTab:i}),Object(d.jsx)("label",{htmlFor:"username",style:g,children:"Username"}),Object(d.jsx)("input",{type:"text",id:"username",style:y,ref:j,onKeyPress:O}),Object(d.jsx)("label",{htmlFor:"pin",style:g,children:"PIN"}),Object(d.jsx)("input",{type:"password",id:"pin",style:y,ref:p,onKeyPress:O}),"Register"===r?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("label",{htmlFor:"confirmPin",style:g,children:"Confirm PIN"}),Object(d.jsx)("input",{type:"password",id:"pin",style:y,ref:b,onKeyPress:O})]}):null,Object(d.jsx)("div",{style:{color:"red",marginTop:"10px",textAlign:"center"},children:s&&s}),Object(d.jsx)(D,{caption:"Register"===r?"Register":"Log In",onClick:h})]})})};function F(){var e=f();return Object(d.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center"},children:Object(d.jsx)(D,{caption:"Log Out",onClick:function(){e(null)}})})}var M=n(8),T="api/lapi";function L(e){return V.apply(this,arguments)}function V(){return V=Object(C.a)(_.a.mark((function e(t){var n,c,r=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],c=n?"http://www.lanis.co.uk/api/lapi":T,e.next=4,fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),V.apply(this,arguments)}var z="php/share";function G(e){return U.apply(this,arguments)}function U(){return U=Object(C.a)(_.a.mark((function e(t){var n,c,r=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],c=n?"http://www.lanis.co.uk/php/share":z,e.next=4,fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}var J=r.a.createContext();function q(){return Object(c.useContext)(J)}function H(e){var t=e.children,n=window.location.href.includes("localhost");return Object(d.jsx)(J.Provider,{value:n,children:t})}function K(e){var t=e.type,n=e.filter,r=e.jwt,i=e.refreshRate,a=Object(c.useState)([]),o=Object(u.a)(a,2),s=o[0],l=o[1],d=Object(c.useState)([]),j=Object(u.a)(d,2),p=j[0],b=j[1],f=Object(c.useState)([]),O=Object(u.a)(f,2),h=O[0],x=O[1],m=Object(c.useState)([]),v=Object(u.a)(m,2),g=v[0],y=v[1],w=Object(c.useState)([]),k=Object(u.a)(w,2),S=(k[0],k[1],Object(c.useState)(0)),N=Object(u.a)(S,2),B=N[0],P=N[1],I=q();return Object(c.useEffect)((function(){function e(){return c.apply(this,arguments)}function c(){return(c=Object(C.a)(_.a.mark((function e(){var c,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(Date.now()),e.next=3,L({jwt:r,action:"select",type:t,filter:n},I);case 3:if(200!==(c=e.sent).status){e.next=9;break}return e.next=7,c.json();case 7:i=e.sent,b(Object(M.a)(i));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e();var a=setInterval(e,i);return function(){return clearInterval(a)}}),[n]),Object(c.useEffect)((function(){l((function(e){return[].concat(Object(M.a)(p.map((function(t){var n=e.find((function(e){return e.id===t.id}));return n&&n.modified>t.modified?n:t}))),Object(M.a)(e.filter((function(e){return e.modified>B&&!p.find((function(t){return t.id===e.id}))}))))}))}),[p]),Object(c.useEffect)((function(){x(s.filter((function(e){return!(null!==p&&void 0!==p&&p.find((function(t){return t.id===e.id})))}))),y(Object(M.a)(s.filter((function(e){return!!p.find((function(t){return t.id===e.id&&e.modified>t.modified}))}))))}),[s]),Object(c.useEffect)((function(){function e(){return(e=Object(C.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L({jwt:r,action:"insert",type:t,payload:Object(M.a)(h)},I);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}h.length&&(!function(){e.apply(this,arguments)}(),x([]))}),[h]),Object(c.useEffect)((function(){function e(){return(e=Object(C.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L({jwt:r,action:"update",type:t,payload:Object(M.a)(g)},I);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}g.length&&(!function(){e.apply(this,arguments)}(),y([]))}),[g]),[s,l]}var Q=n(13),X=n.n(Q),Z=n(104);function $(e){var t=e.item,n=e.toggle,c=e.rename,r=e.move,i=m(),a=Object(Z.a)((function(){return{type:"item",end:function(e,n){if(n.didDrop()){var c=n.getDropResult();r(t,c.id)}},item:Object(S.a)({},t)}})),o=Object(u.a)(a,3),s=(o[0],o[1]);o[2];var l={textAlign:"left",fontSize:i.fontSize-.2+"em"};return Object(d.jsxs)("div",{ref:s,style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",margin:"0 2px",cursor:"pointer"},onClick:function(e){n(t)},onContextMenu:function(e){e.preventDefault(),c(t)},children:[Object(d.jsx)("input",{type:"checkbox",readOnly:!0,checked:t.checked}),Object(d.jsx)("div",{style:l,children:t.caption})]})}var Y=n(105);function ee(e){var t=e.list,n=e.onCaptionRightClick,c=b(),r=q(),i=K({type:"item",jwt:c.token,filter:t.id,refreshRate:1e3}),a=Object(u.a)(i,2),o=a[0],s=a[1],l=m(),j=Object(Y.a)((function(){return{accept:"item",canDrop:function(e,n){return e.listId!==t.id},drop:function(e,n){return t}}})),p=Object(u.a)(j,2)[1];function f(e){var t=o.map((function(t){return t.id===e.id?Object(S.a)(Object(S.a)({},t),{},{checked:1-t.checked,modified:Date.now()}):Object(S.a)({},t)}));s(t)}function O(e){var t=window.prompt("Rename item",e.caption);if(""!==t){if(t){var n=o.map((function(n){return n.id===e.id?Object(S.a)(Object(S.a)({},n),{},{caption:t,modified:Date.now()}):Object(S.a)({},n)}));s(n)}}else{var c=o.map((function(t){return t.id===e.id?Object(S.a)(Object(S.a)({},t),{},{modified:Date.now(),active:1-t.active}):t}));s(c)}}function h(e,t){return x.apply(this,arguments)}function x(){return(x=Object(C.a)(_.a.mark((function e(t,n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L({jwt:c.token,action:"update",type:"item",payload:[Object(S.a)(Object(S.a)({},t),{},{modified:Date.now(),listId:n})]},r);case 2:e.sent,s((function(e){return e.filter((function(e){return e.id!==t.id}))}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v={display:null!==l&&void 0!==l&&l.shoppingMode&&0===(null===o||void 0===o?void 0:o.filter((function(e){return!e.checked})).length)?"none":"flex",flexDirection:"column",marginTop:"5px",textAlign:"center",borderStyle:"solid",borderWidth:"2px",borderColor:l.accent1,color:l.accent1,borderRadius:"5px",minWidth:"100px",padding:"0 2px 2px 2px",order:null===o||void 0===o?void 0:o.length},g={margin:"0 auto",cursor:"pointer",padding:"0 5px",fontSize:l.fontSize+"em"},y={border:"1px solid #ccc",padding:"1px 6px",cursor:"auto",fontSize:l.fontSize+"em",flexGrow:"1",margin:"3px 5px"};return t?Object(d.jsxs)("fieldset",{style:v,ref:p,children:[Object(d.jsx)("legend",{style:g,onContextMenu:function(e){e.preventDefault(),n(t)},children:t.caption}),Object(d.jsx)("div",{role:"textbox",contentEditable:!0,suppressContentEditableWarning:!0,style:y,onKeyPress:function(e){13===e.charCode&&(e.preventDefault(),function(e){var n=[].concat(Object(M.a)(o),[{id:X()(),listId:t.id,caption:e,checked:0,modified:Date.now(),seqNo:0,active:1}]);s(n)}(e.target.innerText),e.target.innerText="")}}),o&&o.filter((function(e){return!l.shoppingMode||!e.checked})).filter((function(e){return 1===e.active})).sort((function(e,t){return e.caption<t.caption?-1:0})).map((function(e){return Object(d.jsx)($,{item:e,toggle:f,rename:O,move:h},e.id)}))]}):null}function te(e){var t=e.match,n=b(),c=(q(),t.params.id),r=K({type:"list",filter:c,jwt:n.token,refreshRate:5e3}),i=Object(u.a)(r,2),a=i[0],o=i[1],s=Object(Y.a)((function(){return{accept:"list",canDrop:function(e,t){return e.boardId!==c},drop:function(e,t){return c}}}));Object(u.a)(s,2)[1];function l(e){var t=window.prompt("Rename list",e.caption);if(""!==t){if(t){var n=a.map((function(n){return n.id===e.id?Object(S.a)(Object(S.a)({},n),{},{caption:t,modified:Date.now()}):n}));o(n)}}else if("yes"===window.prompt("Are you sure?","no")){var c=a.map((function(t){return t.id===e.id?Object(S.a)(Object(S.a)({},t),{},{modified:Date.now(),active:1-t.active}):t}));o(c)}}return Object(d.jsx)("div",{style:{maxHeight:"calc(100vh - 35px - 16px)",overflowY:"auto"},children:Object(d.jsxs)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-evenly",alignItems:"flex-start"},children:[Object(d.jsx)(D,{caption:"+Group",onClick:function(){var e=window.prompt("Give your group a caption");if(e){var t=[].concat(Object(M.a)(a),[{id:X()(),boardId:c,caption:e,modified:Date.now(),seqNo:0,active:1}]);o(t)}}}),Object(d.jsx)("div",{style:{flexBasis:"100%",height:"0"}}),a&&a.filter((function(e){return 1===e.active})).map((function(e){return Object(d.jsx)(ee,{list:e,onCaptionRightClick:l},e.id)}))]})})}function ne(e){var t=e.active,n=e.onClick,c=e.caption,r=e.tooltip,i=m();return Object(d.jsx)("div",{style:{cursor:"pointer",margin:"0 3px"},onClick:function(e){return n&&n()},title:r&&r,children:Object(d.jsxs)("svg",{viewBox:"-50 -50 100 100",height:"20px",width:"20px",children:[Object(d.jsx)("rect",{x:"-50",y:"-50",height:"100",width:"100",rx:"30",ry:"30",fill:t?i.accent1:i.accent2}),Object(d.jsx)("text",{x:"0",y:"0",fill:"white",fontSize:"50",textAnchor:"middle",dominantBaseline:"middle",children:c&&c})]})})}function ce(){var e,t=b(),n=K({type:"board",filter:"",jwt:t.token,refreshRate:1e4}),r=Object(u.a)(n,2),i=r[0],a=r[1],l=m(),j=v(),p=Object(c.useState)(!1),f=Object(u.a)(p,2),O=f[0],h=f[1],x=Object(c.useState)(),g=Object(u.a)(x,2),y=g[0],w=g[1],k=Object(c.useState)([]),N=Object(u.a)(k,2),B=N[0],P=N[1],I=q();Object(c.useEffect)((function(){function e(){return(e=Object(C.a)(_.a.mark((function e(){var n,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L({type:"user",jwt:t.token,action:"select"},I);case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,P(c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(C.a)(_.a.mark((function e(){var n,c,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G({jwt:t.token,action:"view",resourceId:i.find((function(e){return window.location.href.includes(e.id)})).id},I);case 2:if(200===(n=e.sent).status){e.next=9;break}return e.next=6,n.text();case 6:return c=e.sent,console.log(c),e.abrupt("return");case 9:return e.next=12,n.json();case 12:r=e.sent,w(r);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!O&&w(void 0),O&&function(){e.apply(this,arguments)}()}),[O]);var A={borderRadius:"5px",textDecoration:"none",textAlign:"center",marginTop:"1px",padding:"10px",whiteSpace:"nowrap",fontSize:l.fontSize+"em"},R=Object(S.a)(Object(S.a)({},A),{},{backgroundColor:l.accent2,color:l.accent1}),W=Object(S.a)(Object(S.a)({},A),{},{backgroundColor:l.accent1,color:l.accent2}),E={display:O?"flex":"none",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"absolute",width:"100vw",height:"100vh",left:"0",top:"0",backgroundColor:"rgba(0,0,0,0.6)"},F={border:"2px solid ".concat(l.accent1),backgroundColor:"#fff",padding:"5px 20px",borderRadius:"5px",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center"},T={color:l.accent1,margin:"0px 5px 5px 5px"},V={color:l.accent1,margin:"5px 0 0 0"},z={fontSize:"0.8em",marginLeft:"5px"},U={fontWeight:"bold",fontSize:"0.8em",color:l.accent1,marginLeft:"4px",cursor:"pointer"};return Object(d.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start"},children:[Object(d.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"stretch"},children:[i&&i.filter((function(e){return 1===e.active})).map((function(e){return Object(d.jsx)(o.b,{to:"/lists/".concat(e.id),style:R,activeStyle:W,children:Object(d.jsx)("div",{onContextMenu:function(t){t.preventDefault(),function(e){var t=window.prompt("Rename list",e.caption);if(""!==t){if(t){var n=i.map((function(n){return n.id===e.id?Object(S.a)(Object(S.a)({},n),{},{caption:t,modified:Date.now()}):n}));a(n)}}else if("yes"===window.prompt("Sure you want to delete list?","no")){var c=i.map((function(t){return t.id===e.id?Object(S.a)(Object(S.a)({},t),{},{modified:Date.now(),active:1-t.active}):t}));a(c)}}(e)},children:e.caption},e.id)},e.id)})),Object(d.jsx)(D,{caption:"+List",onClick:function(){var e=window.prompt("Give your list a caption");if(e){var t=[].concat(Object(M.a)(i),[{id:X()(),caption:e,modified:Date.now(),seqNo:0,active:1}]);a(t)}}}),Object(d.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"flex-start",flexGrow:"1",marginTop:"20px"},children:[Object(d.jsx)(ne,{active:null===l||void 0===l?void 0:l.shoppingMode,onClick:function(){return j((function(e){return Object(S.a)(Object(S.a)({},e),{},{shoppingMode:!(null!==e&&void 0!==e&&e.shoppingMode)})}))},caption:"SM",tooltip:"Shopping Mode"}),Object(d.jsx)(ne,{active:!0,onClick:function(){i.find((function(e){return window.location.href.includes(e.id)}))?h(!0):window.alert("Select a list to share!")},caption:"SH",tooltip:"Share list..."})]})]}),Object(d.jsx)("div",{style:{flexGrow:"1"},children:Object(d.jsx)(s.c,{children:Object(d.jsx)(s.a,{path:"/lists/:id",exact:!0,component:te})})}),Object(d.jsx)("div",{style:E,onClick:function(e){return h(!1)},children:Object(d.jsxs)("div",{style:F,onClick:function(e){return e.stopPropagation()},children:[Object(d.jsx)("h4",{style:T,children:null===(e=i.find((function(e){return window.location.href.includes(e.id)})))||void 0===e?void 0:e.caption}),Object(d.jsxs)("form",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"start"},children:[Object(d.jsx)("div",{style:V,children:"Shared with:"}),Object(d.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"start",alignSelf:"center"},children:y?y.map((function(e){return Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{style:U,onClick:function(n){var c;1!==y.length?G({jwt:t.token,action:"unshare",userName:e,resourceId:null===(c=i.find((function(e){return window.location.href.includes(e.id)})))||void 0===c?void 0:c.id},I).then((function(t){200===t.status&&w((function(t){return t.filter((function(t){return t!==e}))}))})):window.alert("Cannot leave a list without users!")},children:"X"}),Object(d.jsx)("span",{style:z,children:e})]},e)})):"Loading..."}),Object(d.jsx)("div",{style:V,children:"Share with..."}),Object(d.jsx)("input",{list:"shareUsers",onChange:function(e){var n,c=e.target.value;e.target.value="";var r=B.find((function(e){return e.userName===c}));r&&G({jwt:t.token,action:"share",userName:r.userName,resourceId:null===(n=i.find((function(e){return window.location.href.includes(e.id)})))||void 0===n?void 0:n.id},I).then((function(e){200===e.status?w((function(e){return[].concat(Object(M.a)(e),[r.userName])})):(h(!1),console.log(e))}))}}),Object(d.jsx)("datalist",{id:"shareUsers",children:B.filter((function(e){return!y||!y.find((function(t){return t===e.userName}))})).map((function(e){return Object(d.jsx)("option",{value:e.userName},e.userName)}))})]})]})})]})}function re(){var e=m(),t={display:"flex",textDecoration:"none",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:e.accent1,color:e.accent2,aspectRatio:"1 / 1",minWidth:"110px",cursor:"pointer",fontSize:"1.4em",borderRadius:"5px"};return Object(d.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center",height:"100%"},children:[{path:"/sports/squash",caption:"Squash"},{path:"/sports/tennis",caption:"Tennis"},{path:"/sports/gym",caption:"Gym"}].map((function(e){return Object(d.jsx)(o.b,{to:e.path,style:t,children:e.caption},e.path)}))})}function ie(){var e=m(),t=Object(c.useState)([]),n=Object(u.a)(t,2),r=n[0],i=n[1],a=Object(c.useState)([]),o=Object(u.a)(a,2),s=o[0],l=o[1];Object(c.useEffect)((function(){i((function(e){return e.map((function(e){return{name:e.name,points:2*s.filter((function(t){return t.playerA===e.name&&t.pointsA>t.pointsB||t.playerB===e.name&&t.pointsB>t.pointsA})).length+1*s.filter((function(t){return t.playerA===e.name&&t.pointsA<t.pointsB||t.playerB===e.name&&t.pointsB<t.pointsA})).length,tiebreak:s.reduce((function(t,n){return t+(n.playerA===e.name?n.pointsA-n.pointsB:0)+(n.playerB===e.name?n.pointsB-n.pointsA:0)}),0),games:[].concat(Object(M.a)(s.filter((function(t){return t.playerA===e.name})).map((function(e){return{against:e.playerB,scored:e.pointsA,lost:e.pointsB}}))),Object(M.a)(s.filter((function(t){return t.playerB===e.name})).map((function(e){return{against:e.playerA,scored:e.pointsB,lost:e.pointsA}}))))}})).sort((function(e,t){return t.points-e.points+t.tiebreak/1e3-e.tiebreak/1e3}))}))}),[s]);var j={backgroundColor:"#aaa"},p={textAlign:"center",cursor:"pointer"};return console.log(r),Object(d.jsx)("div",{style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{}),Object(d.jsx)("th",{children:"Points"}),r.map((function(e){return Object(d.jsx)("th",{children:e.name},"th_"+e.name)})),Object(d.jsx)("th",{children:"TB"})]})}),Object(d.jsxs)("tbody",{children:[r.map((function(t,n){return Object(d.jsxs)("tr",{children:[Object(d.jsxs)("td",{children:[Object(d.jsx)("span",{style:{backgroundColor:e.accent2,color:e.accent1,padding:"0 3px",marginRight:"5px",cursor:"pointer"},onClick:function(e){return n=t.name,void i((function(e){return e.filter((function(e){return e.name!==n}))}));var n},children:"X"}),n+1+". "+t.name]}),Object(d.jsx)("td",{style:{textAlign:"center"},children:t.points}),r.map((function(e){var n,c=null===t||void 0===t||null===(n=t.games)||void 0===n?void 0:n.find((function(t){return t.against===e.name})),r=c?c.scored+"-"+c.lost:"?";return Object(d.jsx)("td",{style:t.name===e.name?j:p,onClick:function(n){return function(e,t){var n=window.prompt("Points for "+e),c=window.prompt("Points for "+t);n&&c&&l((function(r){return[].concat(Object(M.a)(r),[{playerA:e,playerB:t,pointsA:parseInt(n),pointsB:parseInt(c)}])}))}(t.name,e.name)},children:t.name===e.name?null:r},t.name+"_"+e.name)})),Object(d.jsx)("td",{style:{textAlign:"center"},children:t.tiebreak})]},"tb_"+t.name)})),Object(d.jsx)("tr",{children:Object(d.jsx)("td",{children:Object(d.jsx)("div",{style:{backgroundColor:e.accent1,color:e.accent2,borderRadius:"5px",padding:"2px 5px",cursor:"pointer",textAlign:"center"},onClick:function(e){!function(){var e=window.prompt("New player");e&&i((function(t){return[].concat(Object(M.a)(t),[{name:e}])}))}()},children:"+Player"})})})]})]})})}function ae(){return Object(d.jsx)("div",{style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:"Hello Gym"})}var oe=n(20),se=n(44),ue=n.n(se),le=n(28),de=n.n(le);function je(e){var t=Object(Z.a)((function(){return{type:"ingredient",item:Object(S.a)({},e)}})),n=Object(u.a)(t,2),c=(n[0],n[1]);return Object(d.jsxs)("div",{className:de.a.body,ref:c,children:[e.caption&&Object(d.jsx)("div",{className:de.a.caption,children:e.caption}),e.amount&&Object(d.jsxs)("div",{className:de.a.amount,children:[Object(d.jsx)("span",{className:de.a.amountQuantity,children:e.amount}),e.unit&&Object(d.jsx)("span",{className:de.a.amountUnits,children:e.unit})]})]})}var pe=n(34),be=n.n(pe);function fe(e){var t,n,c=Object(Y.a)((function(){return{accept:["ingredient","stage"],canDrop:function(e,t){return!0},drop:function(t,n){e.onDrop&&e.onDrop(t,e.id)},collect:function(e){return{isOver:!!e.isOver()}}}})),r=Object(u.a)(c,2),i=r[0],a=r[1],o=Object(Z.a)((function(){return{type:"stage",item:Object(S.a)({},e)}})),s=Object(u.a)(o,2),l=(s[0],s[1]),j=w()((t={},Object(oe.a)(t,be.a.frame,!0),Object(oe.a)(t,be.a.empty,!e.children),Object(oe.a)(t,be.a.receiving,i.isOver),t)),p=Object(d.jsx)("legend",{children:e.caption});return Object(d.jsx)("div",{className:be.a.body,ref:a,children:Object(d.jsxs)("fieldset",{className:j,ref:l,children:[!!e.caption&&p,Object(d.jsx)("div",{children:null===(n=e.children)||void 0===n?void 0:n.map((function(e,t){switch(e.type){case"ingredient":return Object(d.jsx)(je,{caption:e.caption,amount:e.amount,unit:e.unit},e.id);case"stage":return Object(d.jsx)(fe,{caption:e.caption,children:e.children},e.id);default:return}}))})]})})}function Oe(e){var t;console.log("group render props"),console.log(e);var n=Object(Y.a)((function(){return{accept:["ingredient","group"],canDrop:function(e,t){return!0},drop:function(t,n){console.log("drop item"),console.log(t),function(t){console.log("handleDrop old props"),console.log(e);var n=Object(S.a)(Object(S.a)({},e),{},{items:[].concat(Object(M.a)(e.items),[Object(S.a)({},t)])});console.log("handleDrop updatedProps"),console.log(n),e.onChange&&e.onChange(n)}(t)},collect:function(e){return{isOver:!!e.isOver()}}}})),c=Object(u.a)(n,2),r=(c[0],c[1]),i=Object(Z.a)((function(){return{type:"group",item:Object(S.a)({},e)}})),a=Object(u.a)(i,2),o=(a[0],a[1]),s=e.caption&&e.caption;function l(t){e.onChange&&e.onChange(Object(S.a)(Object(S.a)({},e),{},{items:e.items.map((function(e){return e.id===t.id?t:e}))}))}var j=null===(t=e.items)||void 0===t?void 0:t.map((function(e){switch(e.type){case"group":return Object(d.jsx)(Oe,{id:e.id,caption:e.caption,items:e.items,onChange:l},e.id);case"ingredient":return Object(d.jsx)(je,{id:e.id,caption:e.caption,amount:e.amount,unit:e.unit},e.id);default:return}}));return Object(d.jsxs)("fieldset",{children:[!!s&&Object(d.jsx)("legend",{ref:o,children:s}),Object(d.jsx)("div",{ref:r,children:j})]})}var he=n(67),xe=n.n(he);function me(e){return Object(d.jsx)("div",{className:xe.a.background,onClick:e.onClose,children:e.children})}var ve=n(45),ge=n.n(ve);function ye(e){return Object(d.jsxs)("div",{className:ge.a.body,children:[Object(d.jsxs)("label",{className:ge.a.label,children:[e.caption,": "]}),Object(d.jsx)("input",{className:ge.a.input,type:"text",defaultValue:e.value,onChange:e.onChange})]})}var we=n(46),ke=n.n(we);function Ce(e){return Object(d.jsxs)("div",{className:ke.a.body,children:[Object(d.jsxs)("label",{className:ke.a.label,children:[e.caption,": "]}),Object(d.jsx)("input",{className:ke.a.input,type:"number",defaultValue:e.value,onChange:e.onChange})]})}var Se=n(35),Ne=n.n(Se);function _e(e){var t=e.data,n=Object.keys(t)[0],r=t[n],i=Object(c.useState)(Object(S.a)({},r)),a=Object(u.a)(i,2),o=a[0],s=a[1];function l(e,t){s((function(n){return Object(S.a)(Object(S.a)({},n),{},Object(oe.a)({},e,t))}))}Object(c.useEffect)((function(){e.onUpdate&&e.onUpdate(n,o)}),[o]);var j=Object.keys(r).map((function(e,t){switch(typeof r[e]){case"string":return Object(d.jsx)(ye,{caption:e,value:r[e],onChange:function(t){return l(e,t.target.value)}},e);case"number":return Object(d.jsx)(Ce,{caption:e,value:r[e],onChange:function(t){return l(e,t.target.value)}},e);case"object":return null===r[e]?Object(d.jsx)(ye,{caption:e,value:r[e]},e):Object(d.jsx)(_e,{data:Object(oe.a)({},e,r[e]),onUpdate:l},e);case"function":return Object(d.jsx)(D,{caption:e,onClick:function(){(0,r[e])(o)}},e);case"undefined":return;default:return Object(d.jsx)("div",{className:Ne.a.jsonField,children:JSON.stringify(Object(oe.a)({},e,r[e]),void 0,1)},e)}}));return Object(d.jsxs)("fieldset",{className:Ne.a.border,children:[!!n&&Object(d.jsx)("legend",{className:Ne.a.caption,children:n}),Object(d.jsx)("div",{className:Ne.a.fields,children:j})]})}function Be(e){var t=e.id,n=e.name,c=e.amount,r=e.unit;return Object(d.jsx)(je,{type:"ingredient",id:t,caption:n,amount:c,unit:r},t)}var Pe=[{type:"ingredient",id:X()(),name:"Pasta",amount:300,unit:"g"},{type:"ingredient",id:X()(),name:"Water",amount:null,unit:"ml"},{type:"ingredient",id:X()(),name:"Salt",amount:1,unit:"pinch"}];function Ie(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)([]),a=Object(u.a)(i,2),o=(a[0],a[1],Object(c.useState)([])),s=Object(u.a)(o,2),l=s[0];s[1];console.log("lanes"),console.log(n);var j=Pe.map(Be);var p=l[0]&&l[0];return Object(d.jsxs)("div",{className:ue.a.body,children:[Object(d.jsx)("div",{className:ue.a.ingredients,children:j},X()()),Object(d.jsxs)("div",{className:ue.a.lanes,children:[n.map((function(e,t){return Object(d.jsx)("div",{children:e.stages.map((function(t){return Object(d.jsx)(Oe,{id:t.id,caption:t.caption,items:t.items,onChange:function(n){console.log("onchange"),console.log(n),r((function(c){return c.map((function(c){return c.id===e.id?Object(S.a)(Object(S.a)({},c),{},{stages:c.stages.map((function(e){return e.id===t.id?n:e}))}):c}))}))}},t.id)}))},e.id)})),Object(d.jsx)("div",{className:"newLane",children:Object(d.jsx)(fe,{onDrop:function(e,t){switch(console.log(e),e.type){case"ingredient":var n=window.prompt("New stage caption");r((function(t){return[].concat(Object(M.a)(t),[{id:X()(),stages:[{id:X()(),caption:n,items:[Object(S.a)({},e)]}]}])}));break;case"stage":r((function(t){return[].concat(Object(M.a)(t),[{id:X()(),stages:[Object(S.a)({},e)]}])}));break;default:return}}},"newLane")})]}),l.length>0&&Object(d.jsx)(me,{children:Object(d.jsx)(_e,{data:p},"asdf")},JSON.stringify(p))]})}function De(){return Object(d.jsx)("div",{children:"Hello fifths!"})}n(91);var Ae=n.p+"static/media/correct.01541daa.mp3",Re=n.p+"static/media/incorrect.fa5903e8.mp3";new Audio(Ae),new Audio(Re);function We(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)([]),a=Object(u.a)(i,2),o=a[0],s=a[1],l=Object(c.useState)(0),j=Object(u.a)(l,2),p=(j[0],j[1],Object(c.useState)([])),b=Object(u.a)(p,2),f=(b[0],b[1]),O=Object(c.useState)(5),h=Object(u.a)(O,2),x=h[0],m=h[1],v=Object(c.useRef)(),g=q();function y(e){var t=[];return e.forEach((function(e){t.push.apply(t,Object(M.a)(function(e){for(var t=[],n=0;n<e.length;n++){var c=null;switch(e.substring(n,n+1)){case"a":c="".concat(e.substring(0,n),"\u0101").concat(e.substring(n+1));break;case"\u0101":c="".concat(e.substring(0,n),"a").concat(e.substring(n+1));break;case"e":c="".concat(e.substring(0,n),"\u0113").concat(e.substring(n+1));break;case"\u0113":c="".concat(e.substring(0,n),"e").concat(e.substring(n+1));break;case"i":c="".concat(e.substring(0,n),"\u012b").concat(e.substring(n+1));break;case"\u012b":c="".concat(e.substring(0,n),"i").concat(e.substring(n+1));break;case"u":c="".concat(e.substring(0,n),"\u016b").concat(e.substring(n+1));break;case"\u016b":c="".concat(e.substring(0,n),"u").concat(e.substring(n+1))}c&&t.push(c)}return t}(e.nom)))})),t}function k(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=n.find((function(t){return t.id===e})),i=o.find((function(e){return e.id===c.wordId}));t&&i.english&&f((function(e){return e.find((function(e){return e.id===i.id}))?e.map((function(e){return e.id===i.id?Object(S.a)(Object(S.a)({},e),{},{missedCount:e.missedCount+1}):e})):[].concat(Object(M.a)(e),[Object(S.a)(Object(S.a)({},i),{},{missedCount:1})])})),!t&&i.english&&f((function(e){return e.filter((function(e){return e.id!==i.id}))})),t&&!i.english||!t&&i.english||m((function(e){return Math.max(e-1,0)})),r((function(n){return n.map((function(n){return n.id===e?Object(S.a)(Object(S.a)({},n),{},{class:Object(S.a)(Object(S.a)({},n.class),{},{WordPopUnpopped:!1,WordPopPopped:!0,WordPopUncaught:t})}):n}))}));setTimeout((function(){r((function(t){return t.filter((function(t){return t.id!==e}))}))}),t&&i.english?2e3:500)}function N(e){e.stopPropagation(),k(e.target.parentElement.id)}function B(e){k(e.target.id,!0)}return Object(c.useEffect)((function(){if(o.length)return v.current=setInterval((function(){!function(){var e=Math.round((o.length-1)*Math.random()),t=o[e],n=Math.random(),c={};c=n>.5?{right:"".concat(Math.round(100*(1-n)).toString(),"%")}:{left:"".concat(Math.round(100*n).toString(),"%")};r((function(e){return[].concat(Object(M.a)(e),[{id:X()(),wordId:t.id,word:t.latvian,translation:t.english||"Gotcha!",posStyle:c,class:{WordPopBubble:!0,WordPopUnpopped:!0,WordPopPopped:!1,WordPopBubbleRising:!0,WordPopGotcha:!t.english}}])}))}()}),1e3),function(){return clearInterval(v.current)}}),[o]),Object(c.useEffect)((function(){function e(){return(e=Object(C.a)(_.a.mark((function e(){var t,n,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L({type:"noun",action:"select"},g);case 2:if(200!==(t=e.sent).status){e.next=9;break}return e.next=6,t.json();case 6:n=e.sent,c=y(n),s([].concat(Object(M.a)(n.map((function(e){return{id:e.id,latvian:e.nom,english:e.eng}}))),Object(M.a)(c.map((function(e){return{id:X()(),latvian:e}})))));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){0===x&&(r((function(e){return e.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{class:Object(S.a)(Object(S.a)({},e.class),{},{WordPopPaused:!0})})}))})),clearInterval(v.current))}),[x]),Object(d.jsxs)("div",{className:"WordPopBody",onClick:function(e){},children:[n.map((function(e){return Object(d.jsxs)("div",{id:e.id,className:w()(e.class),style:e.posStyle,onAnimationEnd:B,children:[Object(d.jsx)("div",{className:"WordPopContent",onClick:N,children:e.word}),Object(d.jsx)("div",{className:"WordPopResult",children:e.translation})]},e.id)})),Object(d.jsx)("div",{className:"WordPopToolbar",children:Object(d.jsx)("div",{className:"WordPopLives",children:x>0?"\u2764".repeat(x):"GAME OVER"})})]})}function Ee(){var e=b(),t=Object(c.useRef)(),n=Object(c.useRef)(),r=Object(c.useRef)(),i=Object(c.useRef)(),a=Object(c.useState)("Status text"),o=Object(u.a)(a,2),s=o[0],l=o[1],j=Object(c.useState)(!1),p=Object(u.a)(j,2),f=p[0],O=p[1],h=Object(c.useState)(),x=Object(u.a)(h,2),m=x[0],v=x[1];function g(){return(g=Object(C.a)(_.a.mark((function c(a){var o,s,u;return _.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(a.preventDefault(),l(""),O(!1),!(""===(o={id:X()(),dec:parseInt(t.current.value),nom:n.current.value,eng:r.current.value,proper:i.current.checked?1:0}).id||!o.dec||o.dec<1||o.dec>6||""===o.nom||""===o.eng||o.proper<0||o.proper>1)){c.next=8;break}return O(!0),l("Form incorrect!"),c.abrupt("return");case 8:return c.next=10,L({jwt:e.token,type:"noun",action:"insert",payload:[o]},!0);case 10:return s=c.sent,c.next=13,s.text();case 13:u=c.sent,200!==s.status?O(!0):(n.current.value="",r.current.value="",n.current.focus(),v("".concat(o.nom," - ").concat(o.eng))),l("".concat(s.status.toString(),": ").concat(u));case 16:case"end":return c.stop()}}),c)})))).apply(this,arguments)}var y={color:f?"red":"green"};return Object(d.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%",alignItems:"center"},children:[Object(d.jsxs)("form",{style:{display:"flex",flexDirection:"column"},onSubmit:function(e){return g.apply(this,arguments)},children:[Object(d.jsx)("label",{htmlFor:"nom",children:"Nominat\u012bvs:"}),Object(d.jsx)("input",{type:"text",id:"nom",name:"nom",ref:n,onBlur:function(e){var c=n.current.value;c.endsWith("is")?t.current.value=2:c.endsWith("us")?t.current.value=3:c.endsWith("s")||c.endsWith("\u0161")?t.current.value=1:c.endsWith("a")?t.current.value=4:c.endsWith("e")?t.current.value=5:t.current.value=""}}),Object(d.jsx)("label",{htmlFor:"dec",children:"Declension:"}),Object(d.jsx)("input",{type:"number",id:"dec",name:"dec",ref:t}),Object(d.jsx)("label",{htmlFor:"eng",children:"English:"}),Object(d.jsx)("input",{type:"text",id:"eng",name:"eng",ref:r}),Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"checkbox",id:"proper",name:"proper",ref:i}),Object(d.jsx)("label",{htmlFor:"proper",children:"Proper noun"})]}),Object(d.jsx)("input",{type:"submit",value:"Submit"})]}),Object(d.jsx)("div",{style:y,children:s&&s}),Object(d.jsx)("div",{style:{fontSize:"0.7em",color:"#ccc"},children:m&&m})]})}n(92);function Fe(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),a=Object(u.a)(i,2),o=a[0],s=a[1],l=Object(c.useState)(!1),j=Object(u.a)(l,2),p=j[0],b=j[1],f=Object(c.useState)([]),O=Object(u.a)(f,2),h=O[0],x=O[1],m=Object(c.useState)(),v=Object(u.a)(m,2),g=v[0],y=v[1],k=Object(c.useState)([]),N=Object(u.a)(k,2),B=N[0],P=N[1],I=Object(c.useState)(!1),D=Object(u.a)(I,2),A=D[0],R=D[1],W=q();function E(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n.length){s(e);var t=n.sort((function(){return.5-Math.random()})).slice(0,10),c=t.map((function(t){var c=n.filter((function(n){return e?n.eng!==t.eng:n.nom!==t.nom})).sort((function(){return.5-Math.random()})).slice(0,6);return[t].concat(Object(M.a)(c)).sort((function(){return.5-Math.random()}))}));x(t),P(c),y(0),R(!1),b(!0)}}return Object(c.useEffect)((function(){Object(C.a)(_.a.mark((function e(){var t,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L({type:"noun",action:"select"},W);case 2:if(200===(t=e.sent).status){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,t.json();case 7:n=e.sent,r(n);case 9:case"end":return e.stop()}}),e)})))()}),[]),p?Object(d.jsxs)("div",{className:"VocabBuilderBody",children:[Object(d.jsx)("div",{className:"VocabBuilderQuestion",children:o?h[g].nom:h[g].eng}),Object(d.jsx)("div",{className:"VocabBuilderOptions",children:B[g].map((function(e){return Object(d.jsxs)("div",{onClick:function(){return!A&&!("correct"in h[g])&&function(e){if(!A){var t=h.findIndex((function(e,t){return!("correct"in e)&&t!==g}));x((function(t){return t.map((function(t,n){return n===g?Object(S.a)(Object(S.a)({},t),{},{correct:h[g].id===e.id,givenAnswer:e}):t}))})),setTimeout((function(){t>-1?y(t):R(!0)}),1e3)}}(e)},className:w()({VocabBuilderCorrect:"correct"in h[g]&&e.id===h[g].id,VocabBuilderIncorrect:"correct"in h[g]&&!(e.id===h[g].id),VocabBuilderCurrent:"correct"in h[g]&&h[g].givenAnswer.id===e.id}),children:[Object(d.jsx)("div",{children:o?e.eng:e.nom}),Object(d.jsx)("div",{className:"VocabBuilderAnswer",children:"correct"in h[g]&&(o?e.nom:e.eng)})]},"".concat(g,":").concat(e.id))}))}),Object(d.jsx)("div",{className:"VocabBuilderScore",children:h.map((function(e,t){return Object(d.jsx)("span",{className:w()({VocabBuilderCurrent:t===g,VocabBuilderCorrect:"correct"in e&&e.correct,VocabBuilderIncorrect:"correct"in e&&!e.correct}),onClick:function(){return y(t)},children:t+1},t)}))}),A&&Object(d.jsx)("div",{className:"VocabBuilderReplay",onClick:function(){return A&&E(o)},children:"Play Again"})]}):Object(d.jsxs)("div",{className:"VocabBuilderMenu",children:[Object(d.jsx)("div",{className:"VocabBuilderTitle",children:"Vocabulary Builder"}),Object(d.jsxs)("div",{className:"VocabBuilderGameOptions",onClick:function(){return E()},children:[Object(d.jsx)("div",{onClick:function(e){return E()},children:"English - Latvian"}),Object(d.jsx)("div",{onClick:function(e){return E(!0)},children:"Latvian - English"})]})]})}n(93);var Me=[{caption:"VocabBuilder",link:"/games/vocabbuilder"},{caption:"WordPop",link:"/games/wordpop"},{caption:"Sylla-ble",link:"/games/syllable"}];function Te(){return Object(d.jsx)("div",{className:"GameMenuBody",children:Me.map((function(e){return Object(d.jsx)(o.b,{to:e.link,children:e.caption},e.link)}))})}function Le(e){switch(e){case"garast\u0101voklis":return["ga","ra","st\u0101","vo","klis"];case"ieeja":return["ie","e","ja"];case"augstums":return["augs","tums"];case"celtniec\u012bba":return["celt","nie","c\u012b","ba"];case"pildspalva":return["pild","spal","va"];case"gran\u0101t\u0101bols":return["gra","n\u0101t","\u0101","bols"];case"situ\u0101cija":return["si","tu","\u0101","ci","ja"];case"bibliot\u0113ka":return["bib","li","o","t\u0113","ka"];case"uzacs":return["uz","acs"];case"pulkstenis":return["pulk","ste","nis"]}return e.endsWith("klis")?[].concat(Object(M.a)(Le(e.substring(0,e.length-4))),["klis"]):e.match(/[^a\u0101e\u0113i\u012bou\u016b]*[a\u0101e\u0113i\u012bou\u016b]+(?:[^a\u0101e\u0113i\u012bou\u016b]*$|[^a\u0101e\u0113i\u012bou\u016b](?=[^a\u0101e\u0113i\u012bou\u016b]))?/gi)}function Ve(){var e=Object(c.useState)(),t=Object(u.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(),a=Object(u.a)(i,2),o=a[0],s=a[1];return Object(c.useEffect)((function(){Object(C.a)(_.a.mark((function e(){var t,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L({type:"noun",action:"select"},window.location.href.includes("localhost"));case 2:if(200===(t=e.sent).status){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,t.json();case 7:if((n=e.sent).length){e.next=10;break}return e.abrupt("return");case 10:r(n.sort((function(){return.5-Math.random()})));case 11:case"end":return e.stop()}}),e)})))()}),[]),n?Object(d.jsxs)("div",{children:[o&&n[o.index].nom,Object(d.jsx)("div",{className:"SyllablePlay",onClick:function(){n&&s((function(e){var t=e?(e.index+1)%n.length:0,c=n.filter((function(e,n){return n!==t})).sort((function(){return.5-Math.random()})).slice(0,16).flatMap((function(e,t,n){return Le(e.nom)}));return console.log(c),{index:t}}))},children:"Play Syllable"}),n.map((function(e){return Object(d.jsxs)("div",{children:[e.nom,": ",Le(e.nom).join("-")]},e.id)}))]}):Object(d.jsx)("div",{className:"SyllableLoading",children:"Loading..."})}function ze(){var e=b();return Object(d.jsxs)(o.a,{children:[Object(d.jsx)("div",{style:{},children:Object(d.jsx)(s.a,{path:"/",children:Object(d.jsx)(k,{})})}),Object(d.jsx)("div",{style:{flexGrow:"1"},children:Object(d.jsxs)(s.c,{children:[Object(d.jsx)(s.a,{path:"/games",exact:!0,children:Object(d.jsx)(Te,{})}),Object(d.jsx)(s.a,{path:"/games/wordpop",children:Object(d.jsx)(We,{})}),Object(d.jsx)(s.a,{path:"/games/vocabbuilder",children:Object(d.jsx)(Fe,{})}),Object(d.jsx)(s.a,{path:"/games/syllable",children:Object(d.jsx)(Ve,{})}),!e&&Object(d.jsx)(s.a,{path:"/",children:Object(d.jsx)(E,{})}),Object(d.jsx)(s.a,{path:"/user",exact:!0,children:Object(d.jsx)(F,{})}),Object(d.jsx)(s.a,{path:"/lists",children:Object(d.jsx)(ce,{})}),Object(d.jsx)(s.a,{path:"/sports",exact:!0,children:Object(d.jsx)(re,{})}),Object(d.jsx)(s.a,{path:"/sports/squash",children:Object(d.jsx)(ie,{})}),Object(d.jsx)(s.a,{path:"/sports/gym",children:Object(d.jsx)(ae,{})}),Object(d.jsx)(s.a,{path:"/cookbook",children:Object(d.jsx)(Ie,{})}),Object(d.jsx)(s.a,{path:"/fifths",children:Object(d.jsx)(De,{})}),Object(d.jsx)(s.a,{path:"/tmp/nouns",children:Object(d.jsx)(Ee,{})})]})})]})}var Ge=n(53),Ue=n(103),Je=n(68),qe=(n(94),new Ge.QueryClient);var He=function(){return Object(d.jsx)(H,{children:Object(d.jsx)(O,{children:Object(d.jsx)(g,{children:Object(d.jsx)(Ge.QueryClientProvider,{client:qe,children:Object(d.jsx)(Ue.a,{backend:Je.a,children:Object(d.jsx)("div",{className:"AppBody",children:Object(d.jsx)(ze,{})})})})})})})};a.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(He,{})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.f605ca4a.chunk.js.map